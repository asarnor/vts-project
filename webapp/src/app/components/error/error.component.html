<div class="alert alert-danger icon" *ngIf="error">
  <button type="button" class="close float-right" aria-label="Close" *ngIf="canClose" (click)="error = null">
    <span aria-hidden="true">&times;</span>
  </button>

  <!-- Transclude the error message, default to span if none specified-->
  <div #ref class="d-inline"><ng-content></ng-content></div>
  <div class="d-inline" *ngIf="!ref.innerHTML.trim()">{{ error.message || 'An error has occured.' }}</div>

  <div class="mt-2" *ngIf="errorShowDetails">
    <!-- Show accordion not error on load-->
    <mat-accordion>
      <mat-expansion-panel [expanded]="errorExpanded">
        <mat-expansion-panel-header> <mat-panel-title> See error details </mat-panel-title> </mat-expansion-panel-header>
        <pre class="mb-0">{{ error | json }}</pre>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</div>
